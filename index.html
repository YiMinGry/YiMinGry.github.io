<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>뚱이네 실가게 - 상품 페이지 생성기</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&family=Noto+Sans+KR:wght@300;400;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f9f7f6;
            color: #4a4a4a;
            line-height: 1.8;
            margin: 0;
            padding: 20px;
        }

        .input-form {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        h2 {
            font-family: 'Nanum Myeongjo', serif;
            color: #a87b70;
            margin-bottom: 20px;
        }

        #productDataInput {
            width: 90%;
            height: 500px;
            padding: 15px;
            border: 1px solid #e6c5bb;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            resize: vertical;
            margin-bottom: 15px;
            text-align: left;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 700;
            color: #ffffff;
            background-color: #e6c5bb;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #d19a8b;
            transform: translateY(-2px);
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            padding: 30px 40px;
            overflow: hidden;
        }

        h1 {
            font-family: 'Nanum Myeongjo', serif;
            color: #d19a8b;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .intro {
            text-align: center;
            font-size: 1.1em;
            color: #6c5b55;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0e6e2;
            padding-bottom: 20px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.8em;
            color: #a87b70;
            margin-bottom: 20px;
            border-left: 5px solid #e6c5bb;
            padding-left: 15px;
        }

        .recommend-list {
            list-style: none;
            padding-left: 0;
        }

        .recommend-list li {
            background-color: #fdfaf9;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 10px;
            font-size: 1.05em;
            transition: transform 0.2s ease-in-out;
        }
        
        .recommend-list li:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .recommend-list li::before {
            content: '🧶';
            margin-right: 15px;
            font-size: 1.2em;
        }

        .product-details {
            background-color: #faf6f4;
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #e0d8d5;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 1em;
        }
        
        .detail-item .label {
            font-weight: 700;
            color: #8c6b62;
            width: 100px;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            padding: 10px;
        }

        .color-item {
            background-color: #fdfdfd;
            border: 1px solid #f0e6e2;
            border-radius: 5px;
            padding: 10px 15px;
            text-align: center;
            font-size: 0.95em;
            color: #795548;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .color-item:hover {
            background-color: #e6c5bb;
            color: #fff;
        }
        
        .knitting-tip {
            background: linear-gradient(135deg, #fce9e4, #f8dace);
            border: 2px dashed #e4b6a9;
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
        }

        .knitting-tip-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.5em;
            color: #bf816f;
            margin-bottom: 15px;
            text-align: center;
        }

        .knitting-tip p {
            color: #7d5e54;
            font-size: 1.05em;
            text-align: justify;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #e0d8d5;
            color: #a0a0a0;
            font-size: 0.85em;
        }
    </style>
</head>
<body>

    <div class="input-form">
        <h2>제품 데이터 입력</h2>
        <p>아래 입력창에 상품 데이터를 복사해 붙여넣으세요. (예시가 자동으로 입력되어 있습니다.)</p>
        <textarea id="productDataInput" placeholder='오로라 멜로우 (600g)

은은하게 반짝이는 은색 펄이 더해진 매력적인 실, 오로라 멜로우를 소개합니다.
비스코스 혼방으로 피부에 닿는 감촉이 매우 부드럽고 가벼워 편안함을 선사합니다.
600g 대용량 구성으로 숄이나 블랭킷, 의류 등 어떤 작품이든 넉넉하게 완성할 수 있습니다.
다채로운 컬러 라인업으로 나만의 특별한 작품을 만들어보세요.

🧶이런 분께 추천드려요!
- 과하지 않은 은은한 반짝임으로 작품에 포인트를 주고 싶은 분
- 부드러운 감촉의 의류나 숄, 블랭킷을 만들고 싶은 분
- 하나의 볼로 넉넉한 사이즈의 작품을 완성하고 싶은 분

- 상품 상세 정보 -
🧰 구성
🔹 소재
비스코스, 폴리에스터, 나일론, 은색펄
🔹 중량
600g
🔹 길이
39,000cm
🔹 굵기
0.2mm
🔹 합수
3합

🧵 컬러 라인업
🔹 01. 로맨틱샤워
🔹 02. 밀키코랄
🔹 03. 누드블로썸
🔹 04. 라일락크림
🔹 05. 우디크림
🔹 06. 모브시나몬
🔹 07. 크림마르살라
🔹 08. 파우더레이크
🔹 09. 달빛고요
🔹 10. 체리블렌드
🔹 11. 플러피블루밍
🔹 12. 선셋웨이브
🔹 13. 브릭로즈
🔹 14. 클라우드티
🔹 15. 문글로우
🔹 16. 블루밍나잇
🔹 17. 모닝포레스트
🔹 18. 써니민트

🌟 뚱이’s 뜨개팁 🐷✂️
추천바늘 : 코바늘 4~5호 / 대바늘 2.25~3.5mm
실이 가늘고 부드러워 섬세한 무늬 표현에 적합하며, 성글게 짜도 자연스러운 멋이 살아납니다. 은은한 펄감이 더해져 있어 밋밋할 수 있는 기본 뜨개 기법에도 특별한 포인트를 줄 수 있습니다. 추천 바늘 사이즈 내에서 게이지를 조절하여 원하는 편물의 느낌을 찾아보세요.'></textarea><br>
        <button onclick="generateAndDownloadHtml()">HTML 생성 및 다운로드</button>
    </div>

    <div id="productTemplate" style="display:none;">
        <div class="container">
            <h1>${title}</h1>
            <p class="intro">${intro}</p>
            
            <div class="section">
                <h2 class="section-title">이런 분께 추천드려요!</h2>
                <ul class="recommend-list">${recommendations}</ul>
            </div>

            <div class="section" id="detailsSection">
                <h2 class="section-title">상품 상세 정보</h2>
                <div class="product-details">
                    <h3>🧰 구성</h3>
                    ${details}
                </div>
            </div>

            <div class="section" id="colorsSection">
                <h2 class="section-title">🧵 컬러 라인업</h2>
                <div class="color-grid">${colors}</div>
            </div>

            <div class="section">
                <div class="knitting-tip">
                    <h3 class="knitting-tip-title">🌟 뚱이’s 뜨개팁 🐷✂️</h3>
                    <p>${tipsContent}</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function generateAndDownloadHtml() {
            const rawText = document.getElementById('productDataInput').value;
            
            function extractSection(text, startDelimiter, endDelimiter) {
                const startIndex = text.indexOf(startDelimiter);
                if (startIndex === -1) return null;
                const afterStart = text.substring(startIndex + startDelimiter.length).trim();
                const endIndex = afterStart.indexOf(endDelimiter);
                if (endIndex === -1 || endDelimiter === '') {
                    return afterStart;
                }
                return afterStart.substring(0, endIndex).trim();
            }

            const title = rawText.substring(0, rawText.indexOf('🧶')).trim();
            const intro = extractSection(rawText, title, '🧶이런 분께 추천드려요!');

            const recommendationsContent = extractSection(rawText, '🧶이런 분께 추천드려요!', '- 상품 상세 정보 -');
            const recommendations = recommendationsContent ? recommendationsContent.split('-').filter(item => item.trim().length > 0).map(item => item.replace(/^- /, '').trim()) : [];
            const recommendationsHtml = recommendations.map(item => `<li>${item}</li>`).join('');

            const detailsContent = extractSection(rawText, '🧰 구성', '🧵 컬러 라인업') || extractSection(rawText, '🧰 구성', '🌟 뚱이’s 뜨개팁 🐷✂️');
            let detailsHtml = '';
            if (detailsContent) {
                const detailPairs = detailsContent.split('🔹').filter(item => item.trim().length > 0);
                detailPairs.forEach(pair => {
                    const [label, value] = pair.split(':').map(s => s.trim());
                    if (label && value) {
                        detailsHtml += `<div class="detail-item"><span class="label">🔹 ${label}</span><span>${value}</span></div>`;
                    }
                });
            }

            const colorsContent = extractSection(rawText, '🧵 컬러 라인업', '🌟 뚱이’s 뜨개팁 🐷✂️');
            const colors = colorsContent ? colorsContent.split('🔹').filter(item => item.trim().length > 0).map(item => item.trim()) : [];
            const colorsHtml = colors.map(color => `<div class="color-item">${color}</div>`).join('');

            const tipsContent = extractSection(rawText, '🌟 뚱이’s 뜨개팁 🐷✂️', '');
            let tipsText = tipsContent ? tipsContent.replace('추천바늘 :', '<strong>추천바늘 :</strong>').replace(/\n/g, '<br>') : '이 상품에 대한 특별한 뜨개팁이 곧 추가됩니다!';
            
            let finalHtml = document.getElementById('productTemplate').innerHTML;
            finalHtml = finalHtml
                .replace(/\${title}/g, title)
                .replace(/\${intro}/g, intro.replace(/\n/g, '<br>'))
                .replace(/\${recommendations}/g, recommendationsHtml)
                .replace(/\${details}/g, detailsHtml)
                .replace(/\${colors}/g, colorsHtml)
                .replace(/\${tipsContent}/g, tipsText);

            if (!detailsHtml) finalHtml = finalHtml.replace(/<div class="section" id="detailsSection">.*?<\/div>/s, '');
            if (!colorsHtml) finalHtml = finalHtml.replace(/<div class="section" id="colorsSection">.*?<\/div>/s, '');
            if (!recommendationsHtml) finalHtml = finalHtml.replace(/<div class="section" id="recommendationsSection">.*?<\/div>/s, '');

            const fullHtml = `
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title}</title>
    <style>${document.querySelector('style').innerHTML}</style>
</head>
<body>
    ${finalHtml}
</body>
</html>
            `;
            
            const blob = new Blob([fullHtml], { type: 'text/html' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `${title.replace(/ /g, '_')}.html`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
        }
    </script>
</body>
</html>

